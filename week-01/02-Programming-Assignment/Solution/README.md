Главное, на что нужно было обратить внимание при решении задачи — корректный выбор целочисленных типов. Как следует из условия, максимально возможное значение массы равно 10^4 * 10^4 * 10^4 * 10^5 * 100 = 10^19, что умещается лишь в тип uint64_t.